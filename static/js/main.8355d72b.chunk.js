(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{228:function(e,t,a){},274:function(e,t,a){e.exports=a(453)},283:function(e,t,a){},284:function(e,t,a){},367:function(e,t,a){},423:function(e,t,a){},432:function(e,t,a){},453:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(41),c=a(25),l=(a(283),a(29)),o=a(19);function i(e){return r.a.createElement("div",{className:"ui container"},e.children)}var u=a(477),m=a(44),d=a(476),h=a(475),E=a(454),f=a(463),p=a(474),g=a(472),v=a(70),S=function(){var e=[];return localStorage.getItem("questions")&&(e=JSON.parse(localStorage.getItem("questions"))),e},b=function(){var e=[];return localStorage.getItem("quiz_scores")&&(e=JSON.parse(localStorage.getItem("quiz_scores"))),e.sort((function(e,t){return t.score-e.score})),e},w=function(){return{questions:S(),activeQuestions:S(),points:0,highscores:b()}};function C(e,t){var a=[];if(localStorage.getItem("questions")){(a=JSON.parse(localStorage.getItem("questions"))).push(t);var n=JSON.stringify(a);localStorage.setItem("questions",n)}else{a.push(t);var r=JSON.stringify(a);localStorage.setItem("questions",r)}var s=localStorage.getItem("questions");return JSON.parse(s)}function q(e,t){for(var a=JSON.parse(localStorage.getItem("questions")),n=0,r=0;r<a.length;r++)a[r].id===t&&(n=r);a.splice(n,1);var s=JSON.stringify(a);localStorage.setItem("questions",s);var c=localStorage.getItem("questions");return JSON.parse(c)}function N(e,t){return t.selected===t.correct&&e++,e}function A(e,t){for(var a=0,n=0;n<e.length;n++)e[n].id===t&&(a=n);return e.splice(a,1),e}function O(e,t){var a=[];if(localStorage.getItem("quiz_scores")){(a=JSON.parse(localStorage.getItem("quiz_scores"))).push(t);var n=JSON.stringify(a);localStorage.setItem("quiz_scores",n)}else{a.push(t);var r=JSON.stringify(a);localStorage.setItem("quiz_scores",r)}var s=localStorage.getItem("quiz_scores");return JSON.parse(s)}function Q(e){return localStorage.removeItem("quiz_scores"),[]}var y=Object(v.b)({questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE":return C(0,t.payload);case"DELETE_QUESTION":return q(0,t.payload);default:return e}},activeQuestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"NEXT_QUESTION"===t.type?A(e,t.payload):e},points:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"ANSWER"===t.type?N(e,t.payload):e},highscores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SCORE":return O(0,t.payload);case"RESET_SCORES":return Q();default:return e}}}),k=function(e,t){return function(e,t){return"RESET"===t.type?w():e}(y(e,t),t)},j=function(e){return{questions:e.questions}},I=function(e){return{highscores:e.highscores}};a(284);function _(){return r.a.createElement("div",{className:"margin-top"},r.a.createElement(u.a,{as:"h1",textAlign:"center",icon:!0},r.a.createElement(m.a,{size:"mini",name:"question circle outline"}),r.a.createElement(u.a.Content,null,"Quiz App")),r.a.createElement(d.a,null,r.a.createElement("div",{className:"grid"},r.a.createElement(h.a,{columns:"equal",textAlign:"center"},r.a.createElement(h.a.Column,null,r.a.createElement(u.a,{as:"h4"},"Create some questions for the quiz"),r.a.createElement(l.b,{to:"/question_handler"},r.a.createElement(E.a,{icon:!0,labelPosition:"left"},"Question Handler",r.a.createElement(m.a,{name:"book"})))),r.a.createElement(f.a,{vertical:!0},"Or"),r.a.createElement(h.a.Column,null,r.a.createElement(u.a,{as:"h4"},"Start a quiz"),r.a.createElement(l.b,{to:"/game"},r.a.createElement(E.a,{icon:!0,labelPosition:"left"},"Game",r.a.createElement(m.a,{name:"chess rook"}))))))),r.a.createElement(x,null))}var x=function(){var e=Object(c.d)(I).highscores,t=Object(c.c)();return r.a.createElement(d.a,null,r.a.createElement(u.a,{as:"h3",textAlign:"center"},"Local Highscores"),0===e.length?r.a.createElement("div",{className:"centered"},r.a.createElement(p.a,{compact:!0,content:"There are no highscores yet!",style:{width:300}})):r.a.createElement("div",null,r.a.createElement(g.a,{textAlign:"center",celled:!0},r.a.createElement(g.a.Header,null,r.a.createElement(g.a.HeaderCell,null,"Name"),r.a.createElement(g.a.HeaderCell,null,"Score")),r.a.createElement(g.a.Body,null,e.map((function(e){return r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Cell,null,e.name),r.a.createElement(g.a.Cell,null,e.score,"%"))})))),r.a.createElement("div",{className:"centered"},r.a.createElement(E.a,{icon:!0,labelPosition:"left",onClick:function(){return t({type:"RESET_SCORES"})}},"Reset highscores",r.a.createElement(m.a,{name:"redo"})))))},R=a(264),T=a(471),z=a(468),D=(a(367),function(e){var t=Object(n.useState)(!1),a=Object(R.a)(t,2),s=a[0],l=a[1],o=Object(c.c)();return r.a.createElement(z.a,{open:s,closeOnEscape:!1,closeOnDimmerClick:!1,trigger:r.a.createElement(E.a,{icon:!0,labelPosition:"left",onClick:function(){return l(!0)}},"Delete ",r.a.createElement(m.a,{name:"trash alternate"})),basic:!0,size:"small"},r.a.createElement(u.a,{icon:"trash alternate",content:"Delete Question"}),r.a.createElement(z.a.Content,null,r.a.createElement("p",null,"Are you sure you want to delete this question?")),r.a.createElement(z.a.Actions,null,r.a.createElement(E.a,{onClick:function(){return l(!1)},basic:!0,color:"red",inverted:!0},r.a.createElement(m.a,{name:"remove"})," No"),r.a.createElement(E.a,{onClick:function(){return o({type:"DELETE_QUESTION",payload:e.question.id}),void l(!1)},color:"green",inverted:!0},r.a.createElement(m.a,{name:"checkmark"})," Yes")))}),J=function(e){return r.a.createElement(z.a,{trigger:r.a.createElement("p",null,e.q.query),closeIcon:!0},r.a.createElement(z.a.Content,null,r.a.createElement(u.a,{as:"h2",textAlign:"center"},e.q.query),r.a.createElement(h.a,{columns:"equal",textAlign:"center"},r.a.createElement(h.a.Column,null,r.a.createElement("h3",{className:"bordered"},e.q.first),r.a.createElement("h3",{className:"bordered"},e.q.third)),r.a.createElement(h.a.Column,null,r.a.createElement("h3",{className:"bordered"},e.q.second),r.a.createElement("h3",{className:"bordered"},e.q.fourth))),r.a.createElement(u.a,{as:"h4",textAlign:"center"},"Correct: ",e.q.correct),r.a.createElement("p",null,"Created: ",e.q.date)))},P=function(){var e=Object(c.d)(j).questions;return 0===e.length?r.a.createElement("div",{className:"centered"},r.a.createElement(p.a,{className:"width500",compact:!0,header:"There are no questions!",content:"Add some questions with the form below!"})):r.a.createElement("div",{className:"centered"},r.a.createElement(T.a,{celled:!0,verticalAlign:"middle",className:"question-list"},e.map((function(e){return r.a.createElement(T.a.Item,{key:e.id,className:"list-item"},r.a.createElement(T.a.Content,{floated:"right"},r.a.createElement(D,{question:e})),r.a.createElement(T.a.Icon,{name:"question circle",size:"large",verticalAlign:"middle"}),r.a.createElement(T.a.Content,null,r.a.createElement(T.a.Header,{as:"a"},r.a.createElement(J,{q:e})," "),r.a.createElement(T.a.Description,{as:"a"},e.date)))}))))},H=a(93),G=a(76),M=a(77),B=a(33),F=a(79),U=a(78),L=a(473),X=a(467),V=(a(423),function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(G.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a,r=t.name,s=t.value;n.setState((a={},Object(H.a)(a,r,s),Object(H.a)(a,"error",""),a))},n.onSave=function(){if(n.validateForm()){var e="_"+Math.random().toString(36).substr(2,9),t=(new Date).toLocaleDateString();n.setState({id:e,date:t})}},n.onReset=function(){n.setState({query:"",first:"",second:"",third:"",fourth:"",correct:null,error:""})},n.validateForm=function(){if(""!==n.state.query&&""!==n.state.first&&""!==n.state.second&&""!==n.state.third&&""!==n.state.fourth){var e=[];return e.push(n.state.first),e.includes(n.state.second)?(n.setState({error:"Answers must be different!"}),!1):(e.push(n.state.second),e.includes(n.state.third)?(n.setState({error:"Answers must be different!"}),!1):(e.push(n.state.third),e.includes(n.state.fourth)?(n.setState({error:"Answers must be different!"}),!1):null!==n.state.correct&&""!==n.state.correct||(n.setState({error:"Correct answer not selected!"}),!1)))}return n.setState({error:"Some fields are empty!"}),!1},n.state={id:"",query:"",first:"",second:"",third:"",fourth:"",correct:null,date:"",error:""},n.handleChange=n.handleChange.bind(Object(B.a)(n)),n.onSave=n.onSave.bind(Object(B.a)(n)),n.onReset=n.onReset.bind(Object(B.a)(n)),n.validateForm=n.validateForm.bind(Object(B.a)(n)),n}return Object(M.a)(a,[{key:"componentDidUpdate",value:function(){""!==this.state.id&&""!==this.state.date&&(this.props.finalizeQuestion(this.state),this.setState({id:"",query:"",first:"",second:"",third:"",fourth:"",correct:null,date:"",error:""}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.query,n=t.first,s=t.second,c=t.third,l=t.fourth,o=t.correct;return r.a.createElement("div",{className:"centered"},r.a.createElement(L.a,{style:{width:900}},r.a.createElement(L.a.Content,null,r.a.createElement(L.a.Header,{textAlign:"center"},"Add new Question"),r.a.createElement(X.a,null,r.a.createElement(X.a.Input,{onChange:this.handleChange,id:"question",fluid:!0,label:"Question",placeholder:"Question",name:"query",value:a}),r.a.createElement(X.a.Group,{widths:"equal"},r.a.createElement(X.a.Input,{onChange:this.handleChange,id:"first",fluid:!0,label:"First answer",placeholder:"First answer",name:"first",value:n}),r.a.createElement(X.a.Radio,{name:"correct",value:n,checked:o===n,onChange:this.handleChange}),r.a.createElement(X.a.Input,{onChange:this.handleChange,id:"second",fluid:!0,label:"Second answer",placeholder:"Second answer",name:"second",value:s}),r.a.createElement(X.a.Radio,{name:"correct",value:s,checked:o===s,onChange:this.handleChange})),r.a.createElement(X.a.Group,{widths:"equal"},r.a.createElement(X.a.Input,{onChange:this.handleChange,id:"third",fluid:!0,label:"Third answer",placeholder:"Third answer",name:"third",value:c}),r.a.createElement(X.a.Radio,{name:"correct",value:c,checked:o===c,onChange:this.handleChange}),r.a.createElement(X.a.Input,{onChange:this.handleChange,id:"fourth",fluid:!0,label:"Fourth answer",placeholder:"Fourth answer",name:"fourth",value:l}),r.a.createElement(X.a.Radio,{name:"correct",value:l,checked:o===l,onChange:this.handleChange})),""!==this.state.error?r.a.createElement(p.a,{color:"red",content:this.state.error}):"",r.a.createElement(h.a,{columns:"equal",textAlign:"center",className:"button-grid"},r.a.createElement(h.a.Column,null,r.a.createElement(X.a.Button,{icon:!0,labelPosition:"left",onClick:function(){return e.onSave()}},"Save",r.a.createElement(m.a,{name:"save"}))),r.a.createElement(h.a.Column,null,r.a.createElement(X.a.Button,{icon:!0,labelPosition:"left",onClick:function(){return e.onReset()}},"Reset",r.a.createElement(m.a,{name:"redo"}))))))))}}]),a}(r.a.Component)),W=Object(c.b)(null,(function(e){return{finalizeQuestion:function(t){return e(function(e){return{type:"SAVE",payload:e}}(t))}}}))(V);a(432);function Y(){return r.a.createElement("div",{className:"margin-top"},r.a.createElement(u.a,{as:"h1",textAlign:"center",icon:!0},r.a.createElement(m.a,{size:"mini",name:"book"}),r.a.createElement(u.a.Content,null,"Question Handler")),r.a.createElement(d.a,null,r.a.createElement("div",{className:"list"},r.a.createElement(P,null)),r.a.createElement(W,null),r.a.createElement("div",{className:"centered button"},r.a.createElement(l.b,{to:"/"},r.a.createElement(E.a,{icon:!0,labelPosition:"left"},"Back",r.a.createElement(m.a,{name:"arrow left"}))))))}var K=a(466),Z=a(94),$=a(470),ee=(a(228),function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(G.a)(this,a),(n=t.call(this,e)).onSelectAnswer=function(e){n.setState({selectedAnswer:e})},n.clickAnswer=function(){if(n.setState({answered:!0}),n.state.selectedAnswer===n.state.randQuestion.correct?n.setState({correct:!0}):n.setState({correct:!1}),1===n.props.activeQuestions.length){var e=Object(B.a)(n);e.setState({endGame:!0}),setTimeout((function(){e.setState({openModal:!0})}),800)}},n.clickNext=function(){n.setState({answered:!1,selectedAnswer:null,correct:null,randQuestion:n.props.activeQuestions[Math.floor(Math.random()*n.props.activeQuestions.length)]})},n.state={answered:!1,selectedAnswer:null,correct:null,randQuestion:n.props.activeQuestions[Math.floor(Math.random()*n.props.activeQuestions.length)],endGame:!1,openModal:!1},n.onSelectAnswer=n.onSelectAnswer.bind(Object(B.a)(n)),n.clickAnswer=n.clickAnswer.bind(Object(B.a)(n)),n.clickNext=n.clickNext.bind(Object(B.a)(n)),n}return Object(M.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(L.a,{fluid:!0},r.a.createElement(L.a.Content,null,r.a.createElement(u.a,{as:"h4"},"Name: ",this.props.name),r.a.createElement(u.a,{as:"h4"},"Points: ",this.props.points),r.a.createElement(L.a.Header,{as:"h2",textAlign:"center"},this.state.randQuestion.query),r.a.createElement(h.a,{textAlign:"center"},r.a.createElement(h.a,{columns:"equal",textAlign:"center"},r.a.createElement(h.a.Column,null,r.a.createElement("div",{className:"answer"+(this.state.selectedAnswer===this.state.randQuestion.first?" selected":"")+(this.state.selectedAnswer===this.state.randQuestion.first&&!this.state.correct&&this.state.answered?" wrong":"")+(this.state.selectedAnswer===this.state.randQuestion.first&&this.state.correct?" correct":""),onClick:this.state.answered?"":function(){return e.onSelectAnswer(e.state.randQuestion.first)}},r.a.createElement(u.a,{as:"h3"},this.state.randQuestion.first)),r.a.createElement("div",{className:"answer"+(this.state.selectedAnswer===this.state.randQuestion.third?" selected":"")+(this.state.selectedAnswer===this.state.randQuestion.third&&!this.state.correct&&this.state.answered?" wrong":"")+(this.state.selectedAnswer===this.state.randQuestion.third&&this.state.correct?" correct":""),onClick:this.state.answered?"":function(){return e.onSelectAnswer(e.state.randQuestion.third)}},r.a.createElement(u.a,{as:"h3"},this.state.randQuestion.third))),r.a.createElement(h.a.Column,null,r.a.createElement("div",{className:"answer"+(this.state.selectedAnswer===this.state.randQuestion.second?" selected":"")+(this.state.selectedAnswer===this.state.randQuestion.second&&!this.state.correct&&this.state.answered?" wrong":"")+(this.state.selectedAnswer===this.state.randQuestion.second&&this.state.correct?" correct":""),onClick:this.state.answered?"":function(){return e.onSelectAnswer(e.state.randQuestion.second)}},r.a.createElement(u.a,{as:"h3"},this.state.randQuestion.second)),r.a.createElement("div",{className:"answer"+(this.state.selectedAnswer===this.state.randQuestion.fourth?" selected":"")+(this.state.selectedAnswer===this.state.randQuestion.fourth&&!this.state.correct&&this.state.answered?" wrong":"")+(this.state.selectedAnswer===this.state.randQuestion.fourth&&this.state.correct?" correct":""),onClick:this.state.answered?"":function(){return e.onSelectAnswer(e.state.randQuestion.fourth)}},r.a.createElement(u.a,{as:"h3"},this.state.randQuestion.fourth))))),r.a.createElement("div",{className:"centered button"+(this.state.answered?" hidden":"")},r.a.createElement(E.a,{onClick:""!==this.state.selectedAnswer?function(){e.clickAnswer(),e.props.onAnswer({selected:e.state.selectedAnswer,correct:e.state.randQuestion.correct})}:""},"Answer")),r.a.createElement("div",{className:"centered button"+(!this.state.answered||this.state.endGame?" hidden":"")},r.a.createElement(E.a,{onClick:function(){e.props.nextQuestion(e.state.randQuestion.id),e.clickNext()}},"Next"))),r.a.createElement(ae,{openModal:this.state.openModal,points:this.props.points,name:this.props.name}))}}]),a}(r.a.Component)),te=Object(c.b)((function(e){return{activeQuestions:(a=e,{activeQuestions:a.activeQuestions}).activeQuestions,points:(t=e,{points:t.points}).points};var t,a}),(function(e){return{onAnswer:function(t){return e(function(e){return{type:"ANSWER",payload:e}}(t))},nextQuestion:function(t){return e(function(e){return{type:"NEXT_QUESTION",payload:e}}(t))}}}))(ee),ae=function(e){var t=Object(c.d)(j).questions.length,a=e.points/t*100,n=Object(c.c)();return r.a.createElement(z.a,{open:e.openModal},r.a.createElement(z.a.Content,null,r.a.createElement(u.a,{as:"h3",textAlign:"center"},"There are no more questions!"),r.a.createElement("h4",null,"You scored: ",e.points,"/",t),r.a.createElement("h4",null,a,"%")),r.a.createElement(z.a.Actions,null,r.a.createElement(l.b,{to:"/"},r.a.createElement(E.a,{onClick:function(){return t={name:e.name,score:a},n(function(e){return{type:"ADD_SCORE",payload:e}}(t)),void n({type:"RESET"});var t}},"Back to Home"))))},ne=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(G.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=t.name,r=t.value;n.setState(Object(H.a)({},a,r))},n.onStart=function(e){n.props.reset(),n.setState({gameStarted:!0})},n.state={gameStarted:!1,name:""},n}return Object(M.a)(a,[{key:"render",value:function(){var e=this;return 0===this.props.questions.length?r.a.createElement("div",{className:"margin-top"},r.a.createElement(u.a,{as:"h1",textAlign:"center",icon:!0},r.a.createElement(m.a,{size:"mini",name:"chess rook"}),r.a.createElement(u.a.Content,null,"Game")),r.a.createElement(d.a,null,r.a.createElement("div",{className:"centered margin-top"},r.a.createElement(p.a,null,r.a.createElement(u.a,{as:"h4"},"There are no questions found!"),"Go to ",r.a.createElement(l.b,{to:"/question_handler"},"Question Handler")," and add some questions to start a game!")),r.a.createElement("div",{className:"centered margin-top"},r.a.createElement(l.b,{to:"/"},r.a.createElement(E.a,{icon:!0,labelPosition:"left"},"Back",r.a.createElement(m.a,{name:"arrow left"})))))):this.state.gameStarted?r.a.createElement("div",{className:"margin-top"},r.a.createElement(u.a,{as:"h1",textAlign:"center",icon:!0},r.a.createElement(m.a,{size:"mini",name:"chess rook"}),r.a.createElement(u.a.Content,null,"Game")),r.a.createElement(d.a,null,r.a.createElement(te,{name:this.state.name}),r.a.createElement(l.b,{to:"/"},r.a.createElement(E.a,{icon:!0,labelPosition:"left",onClick:function(){return e.props.reset()}},"Back",r.a.createElement(m.a,{name:"arrow left"}))))):r.a.createElement("div",{className:"margin-top"},r.a.createElement(u.a,{as:"h1",textAlign:"center",icon:!0},r.a.createElement(m.a,{size:"mini",name:"chess rook"}),r.a.createElement(u.a.Content,null,"Game")),r.a.createElement(d.a,null,r.a.createElement(u.a,{textAlign:"center",as:"h4"},"Enter a name to start the quiz!"),r.a.createElement("div",{className:"centered"},r.a.createElement("div",null,r.a.createElement(K.a,{labelPosition:"right",className:"name-input",name:"name",placeholder:"Name",onChange:this.handleChange},r.a.createElement(Z.a,null,"Name"),r.a.createElement("input",null),r.a.createElement(Z.a,{basic:!0},r.a.createElement($.a,{position:"center right",content:"Name must contain at least 3 characters!",trigger:r.a.createElement(m.a,{name:"info circle"})}))),r.a.createElement(E.a,{icon:!0,labelPosition:"right",disabled:""===this.state.name||this.state.name.length<3,onClick:this.onStart},"Start",r.a.createElement(m.a,{name:"play"})))),r.a.createElement("div",{className:"centered button"},r.a.createElement(l.b,{to:"/"},r.a.createElement(E.a,{icon:!0,labelPosition:"left"},"Back",r.a.createElement(m.a,{name:"arrow left"}))))))}}]),a}(r.a.Component),re=Object(c.b)((function(e){return{questions:j(e).questions,state:(t=e,{questions:t.questions,activeQuestions:t.activeQuestions,points:t.points,highscores:t.highscores})};var t}),(function(e){return{reset:function(){return e({type:"RESET"})}}}))(ne);function se(){return r.a.createElement(l.a,null,r.a.createElement(i,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0},r.a.createElement(_,null)),r.a.createElement(o.a,{path:"/question_handler",render:function(e){return r.a.createElement(Y,e)}}),r.a.createElement(o.a,{path:"/game",render:function(e){return r.a.createElement(re,e)}}))))}var ce=function(){return r.a.createElement(se,null)};var le,oe=(le=w(),Object(v.c)(k,le,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Object(s.render)(r.a.createElement(c.a,{store:oe},r.a.createElement(ce,null)),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.8355d72b.chunk.js.map